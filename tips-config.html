
<form>
  <h2>Liste des conseils</h2>

  <div id="tips-list" style="max-height: 400px; overflow-y: auto;">
    {{#each tips}}
      <div class="tip-line">
        <input type="text" name="tip-{{@index}}" value="{{this}}">
        <button type="button" class="delete-tip">✕</button>
      </div>
    {{/each}}
  </div>

  <button type="button" id="add-tip" class="add-tip-btn">
    Ajouter un conseil
  </button>

  <button type="submit" class="save-btn">Enregistrer</button>
</form>

<script>
Hooks.once("renderTipsConfig", (app, html) => {

  html.find("#add-tip").on("click", () => {
    const list = html.find("#tips-list");

    const div = document.createElement("div");
    div.className = "tip-line";
    div.innerHTML = `
      <input type="text" name="tip-new-${Math.random()}">
      <button type="button" class="delete-tip">✕</button>
    `;
    list.append(div);
  });

  html.on("click", ".delete-tip", ev => {
    ev.currentTarget.parentElement.remove();
  });

});
</script>
